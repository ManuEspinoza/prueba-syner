<div *ngIf="users && users.length >0">
  <div *ngFor="let user of users; let i = index">
    <p> {{ user.name }} </p>
    <p> {{ user.lastName }} </p>
    <p> {{ user.age }} </p>
    <p> {{ user.job }} </p>
    <p>{{i}}</p>
    <form [formGroup]="formA[i]" (ngSubmit)="onSubmit(user.id,formA[i])">
      <label formArrayName="orders" *ngFor="let order of formA[i].controls.orders.controls; let i = index">
        {{orders[i].name}}
        <mat-slide-toggle disableRipple class="mat-override" [formControlName]="i">
          <span class="mat-slide-toggle-label-on"><i class="fa fa-check"></i></span>
          <span class="mat-slide-toggle-label-off"><i class="fa fa-times"></i></span>
        </mat-slide-toggle>
      </label>
      <button>submit</button>
    </form>
    <hr>
    <hr>
  </div>
</div>

<div id="regular-tables">
  <div class="row">
    <div class="col-xs-12">
      <div class="card">

        <header class="row title">
          <div class="col-xs-12">
            <h2 class="main-title">Usuarios</h2>
            <span class="sub-title">Ranking del mercado americano</span>
          </div>
        </header>

        <div class="row">
          <div class="col-xs-12 table-wrapper">
            <table mat-table [dataSource]="userSource" class="table table-stripes">
              <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef> ID </th>
                <td mat-cell *matCellDef="let element"> {{element.id}} </td>
              </ng-container>
              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Nombre </th>
                <td mat-cell *matCellDef="let element"> {{element.name}} </td>
              </ng-container>
              <ng-container matColumnDef="lastname">
                <th mat-header-cell *matHeaderCellDef> Apellido </th>
                <td mat-cell *matCellDef="let element"> {{element.lastName}} </td>
              </ng-container>
              <ng-container matColumnDef="age">
                <th mat-header-cell *matHeaderCellDef> Edad </th>
                <td mat-cell *matCellDef="let element"> {{element.age}} </td>
              </ng-container>
              <ng-container matColumnDef="job">
                <th mat-header-cell *matHeaderCellDef> Trabajo </th>
                <td mat-cell *matCellDef="let element"> {{element.job}} </td>
              </ng-container>
              <ng-container matColumnDef="indicators">
                <th mat-header-cell *matHeaderCellDef> Indicadores </th>
                <td mat-cell *matCellDef="let element">
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                          Dropdown
                          <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                          <li><a href="#">Action</a></li>
                          <li><a href="#">Another action</a></li>
                          <li><a href="#">Something else here</a></li>
                          <li role="separator" class="divider"></li>
                          <li><a href="#">Separated link</a></li>
                        </ul>
                      </div>
                </td>
              </ng-container>
              <ng-container matColumnDef="options">
                <th mat-header-cell *matHeaderCellDef> Opciones </th>
                <td mat-cell *matCellDef="let element">
                  <button class="btn btn-primary "><i class="fa fa-pencil-square-o fa-white-color"
                      aria-hidden="true"></i> </button>

                  <button class="btn btn-danger separate-icons"><i class="fa fa-trash fa-white-color "></i></button>



                </td>

              </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>